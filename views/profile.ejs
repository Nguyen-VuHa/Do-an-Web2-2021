<div class="personal-info">
    <div class="background-advertisement">
        <div id="stars"></div>
        <div id="stars2"></div>
        <div id="stars3"></div>
    </div>
    <div class="p-info__heading">
        <a href="/"><img class="logo" src="https://www.cgv.vn/skin/frontend/cgv/default/images/cgvlogo.png" alt=""></a>
        <a href="/" class="info__heading--btn"><i class="far fa-undo"></i> Về Trang Chủ</a>
    </div>
    <div class="p-info__content">
        <div class="info__frames">
            <div class="info__frames--left">
                <div class="info__frames--avartar">
                    <a href="#" class="img-btn"><img onerror="this.src='../image/user-bg.png'" id="confirm-img" name="photo" alt=""></a>
                    <div class="choose--btn" id="upload-aphoto">
                        <input id='selectedFile' class="disp-none" type='file' accept=".png, .jpg, .jpeg, .svg">
                        <a class="btn-choose"><i class="fal fa-camera-alt"></i></a>
                    </div>
                </div>
                <h3 style="font-family: 'Pattaya', sans-serif;" id="title-fullname"></h3>
                <p style="font-family: 'Roboto', sans-serif;">Số dư TK: <b id="surplus" style="color: #54ab35;"></b></p>
                <div class="info_frames--btn">
                    <div class="btn"><a href="#" id="history__btn" data-toggle="modal" data-target="#modal__history">Lịch Sử Giao Dịch</a></div>
                    <div class="btn"><a href="#" data-toggle="modal" data-target="#modal__to-up-card">Nạp E-coin</a></div>
                    <div class="btn"><a href="#">Phản Hồi</a></div>
                </div>
            </div>
            <div class="info__frames--right">
                <div class="reg-content">
                    <div class="reg-form">
                        <div class="title">
                            Thông Tin Của Bạn
                        </div>
                        <form class="form" id="form-frofile">
                            <div id="form-group" class="form-group disable">
                                <label>Họ Tên</label>
                                <div class="input-text">
                                    <input id="fullname" name="fullname" type="text" class="input">
                                    <span class="form-message"></span>
                                </div>
                            </div>  
                            <div id="form-group" class="form-group disable">
                                <label>Email</label>
                                <div class="input-text">
                                    <input id="email" name="email" type="text" class="input">
                                    <span class="form-message"></span>
                                </div>
                            </div> 
                            <div id="form-group" class="form-group disable">
                                <label>Số Điện Thoại</label>
                                <div class="input-text">
                                    <input id="numberphone" name="numberphone" type="text" class="input">
                                    <span class="form-message"></span>
                                </div>
                            </div> 
                            <div class="form-group form-btn">
                                <a onclick="clickOpenInput()"  class="btn form-submit">Cập Nhật</a>
                                <a id="save-btn"  class="btn form-submit disable">Lưu Lại</a>
                            </div>
                        </form>
                    </div>  
                    <div class="reg-card">
                        <div class="creditcard">
                            <div class="front">
                                <div id="ccsingle">
                                    <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 566.93 137.35"><defs><style>.cls-1{fill:#009ee3;}.cls-1,.cls-2,.cls-3{fill-rule:evenodd;}.cls-2{fill:#113984;}.cls-3{fill:#172c70;}</style></defs><title>paypal-seeklogo.com</title><path class="cls-1" d="M192.95,386.87h38.74c20.8,0,28.63,10.53,27.42,26-2,25.54-17.44,39.67-37.92,39.67H210.85c-2.81,0-4.7,1.86-5.46,6.9L201,488.74c-0.29,1.9-1.29,3-2.79,3.15H173.87c-2.29,0-3.1-1.75-2.5-5.54l14.84-93.93C186.79,388.66,188.85,386.87,192.95,386.87Z" transform="translate(-143.48 -354.54)"/><path class="cls-2" d="M361.14,385.13c13.07,0,25.13,7.09,23.48,24.76-2,21-13.25,32.62-31,32.67H338.11c-2.23,0-3.31,1.82-3.89,5.55l-3,19.07c-0.45,2.88-1.93,4.3-4.11,4.3H312.68c-2.3,0-3.1-1.47-2.59-4.76L322,390.29c0.59-3.76,2-5.16,4.57-5.16h34.54Zm-23.5,40.92h11.75c7.35-.28,12.23-5.37,12.72-14.55,0.3-5.67-3.53-9.73-9.62-9.7l-11.06.05-3.79,24.2h0Zm86.21,39.58c1.32-1.2,2.66-1.82,2.47-.34l-0.47,3.54c-0.24,1.85.49,2.83,2.21,2.83h12.82c2.16,0,3.21-.87,3.74-4.21l7.9-49.58c0.4-2.49-.21-3.71-2.1-3.71H436.32c-1.27,0-1.89.71-2.22,2.65l-0.52,3.05c-0.27,1.59-1,1.87-1.68.27-2.39-5.66-8.49-8.2-17-8-19.77.41-33.1,15.42-34.53,34.66-1.1,14.88,9.56,26.57,23.62,26.57,10.2,0,14.76-3,19.9-7.7h0ZM413.11,458c-8.51,0-14.44-6.79-13.21-15.11s9.19-15.11,17.7-15.11,14.44,6.79,13.21,15.11S421.63,458,413.11,458h0Zm64.5-44h-13c-2.68,0-3.77,2-2.92,4.46l16.14,47.26L462,488.21c-1.33,1.88-.3,3.59,1.57,3.59h14.61a4.47,4.47,0,0,0,4.34-2.13l49.64-71.2c1.53-2.19.81-4.49-1.7-4.49H516.63c-2.37,0-3.32.94-4.68,2.91l-20.7,30L482,416.82C481.46,415,480.11,414,477.62,414Z" transform="translate(-143.48 -354.54)"/><path class="cls-1" d="M583.8,385.13c13.07,0,25.13,7.09,23.48,24.76-2,21-13.25,32.62-31,32.67H560.78c-2.23,0-3.31,1.82-3.89,5.55l-3,19.07c-0.45,2.88-1.93,4.3-4.11,4.3H535.35c-2.3,0-3.1-1.47-2.59-4.76l11.93-76.45c0.59-3.76,2-5.16,4.57-5.16H583.8Zm-23.5,40.92h11.75c7.35-.28,12.23-5.37,12.72-14.55,0.3-5.67-3.53-9.73-9.62-9.7l-11.06.05-3.79,24.2h0Zm86.21,39.58c1.32-1.2,2.66-1.82,2.47-.34l-0.47,3.54c-0.24,1.85.49,2.83,2.21,2.83h12.82c2.16,0,3.21-.87,3.74-4.21l7.9-49.58c0.4-2.49-.21-3.71-2.1-3.71H659c-1.27,0-1.89.71-2.22,2.65l-0.52,3.05c-0.27,1.59-1,1.87-1.68.27-2.39-5.66-8.49-8.2-17-8-19.77.41-33.1,15.42-34.53,34.66-1.1,14.88,9.56,26.57,23.62,26.57,10.2,0,14.76-3,19.9-7.7h0ZM635.78,458c-8.51,0-14.44-6.79-13.21-15.11s9.19-15.11,17.7-15.11,14.44,6.79,13.21,15.11S644.29,458,635.78,458h0Zm59.13,13.74h-14.8a1.75,1.75,0,0,1-1.81-2l13-82.36a2.55,2.55,0,0,1,2.46-2h14.8a1.75,1.75,0,0,1,1.81,2l-13,82.36A2.55,2.55,0,0,1,694.91,471.76Z" transform="translate(-143.48 -354.54)"/><path class="cls-2" d="M168.72,354.54h38.78c10.92,0,23.88.35,32.54,8,5.79,5.11,8.83,13.24,8.13,22-2.38,29.61-20.09,46.2-43.85,46.2H185.2c-3.26,0-5.41,2.16-6.33,8l-5.34,34c-0.35,2.2-1.3,3.5-3,3.66H146.6c-2.65,0-3.59-2-2.9-6.42L160.9,361C161.59,356.62,164,354.54,168.72,354.54Z" transform="translate(-143.48 -354.54)"/><path class="cls-3" d="M179.43,435.29l6.77-42.87c0.59-3.76,2.65-5.56,6.75-5.56h38.74c6.41,0,11.6,1,15.66,2.85-3.89,26.36-20.94,41-43.26,41H185C182.44,430.72,180.56,432,179.43,435.29Z" transform="translate(-143.48 -354.54)"/></svg>
                                </div>
                                <svg version="1.1" id="cardfront" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                    x="0px" y="0px" viewBox="0 0 750 471" style="enable-background:new 0 0 750 471;" xml:space="preserve">
                                    <g id="Front">
                                        <g id="CardBackground">
                                            <g id="Page-1_1_">
                                                <g id="amex_1_">
                                                    <path id="Rectangle-1_1_" class="lightcolor lightblue" d="M40,0h670c22.1,0,40,17.9,40,40v391c0,22.1-17.9,40-40,40H40c-22.1,0-40-17.9-40-40V40
                                            C0,17.9,17.9,0,40,0z" />
                                                </g>
                                            </g>
                                            <path class="darkcolor lightbluedark" d="M750,431V193.2c-217.6-57.5-556.4-13.5-750,24.9V431c0,22.1,17.9,40,40,40h670C732.1,471,750,453.1,750,431z" />
                                        </g>
                                        <text transform="matrix(1 0 0 1 60.106 295.0121)" id="svgnumber" class="st2 st3 st4">0123 4567 8910 1112</text>
                                        <text transform="matrix(1 0 0 1 54.1064 428.1723)" id="svgname" class="st2 st5 st6">NO NAME</text>
                                        <text transform="matrix(1 0 0 1 54.1074 389.8793)" class="st7 st5 st8">cardholder name</text>
                                        <text transform="matrix(1 0 0 1 479.7754 388.8793)" class="st7 st5 st8">expiration</text>
                                        <text transform="matrix(1 0 0 1 65.1054 241.5)" class="st7 st5 st8">card number</text>
                                        <g>
                                            <text transform="matrix(1 0 0 1 574.4219 433.8095)" id="svgexpire" class="st2 st5 st9">06/25</text>
                                            <text transform="matrix(1 0 0 1 479.3848 417.0097)" class="st2 st10 st11">VALID</text>
                                            <text transform="matrix(1 0 0 1 479.3848 435.6762)" class="st2 st10 st11">THRU</text>
                                            <polygon class="st2" points="554.5,421 540.4,414.2 540.4,427.9 		" />
                                        </g>
                                        <g id="cchip">
                                            <g>
                                                <path class="st2" d="M168.1,143.6H82.9c-10.2,0-18.5-8.3-18.5-18.5V74.9c0-10.2,8.3-18.5,18.5-18.5h85.3
                                        c10.2,0,18.5,8.3,18.5,18.5v50.2C186.6,135.3,178.3,143.6,168.1,143.6z" />
                                            </g>
                                            <g>
                                                <g>
                                                    <rect x="82" y="70" class="st12" width="1.5" height="60" />
                                                </g>
                                                <g>
                                                    <rect x="167.4" y="70" class="st12" width="1.5" height="60" />
                                                </g>
                                                <g>
                                                    <path class="st12" d="M125.5,130.8c-10.2,0-18.5-8.3-18.5-18.5c0-4.6,1.7-8.9,4.7-12.3c-3-3.4-4.7-7.7-4.7-12.3
                                            c0-10.2,8.3-18.5,18.5-18.5s18.5,8.3,18.5,18.5c0,4.6-1.7,8.9-4.7,12.3c3,3.4,4.7,7.7,4.7,12.3
                                            C143.9,122.5,135.7,130.8,125.5,130.8z M125.5,70.8c-9.3,0-16.9,7.6-16.9,16.9c0,4.4,1.7,8.6,4.8,11.8l0.5,0.5l-0.5,0.5
                                            c-3.1,3.2-4.8,7.4-4.8,11.8c0,9.3,7.6,16.9,16.9,16.9s16.9-7.6,16.9-16.9c0-4.4-1.7-8.6-4.8-11.8l-0.5-0.5l0.5-0.5
                                            c3.1-3.2,4.8-7.4,4.8-11.8C142.4,78.4,134.8,70.8,125.5,70.8z" />
                                                </g>
                                                <g>
                                                    <rect x="82.8" y="82.1" class="st12" width="25.8" height="1.5" />
                                                </g>
                                                <g>
                                                    <rect x="82.8" y="117.9" class="st12" width="26.1" height="1.5" />
                                                </g>
                                                <g>
                                                    <rect x="142.4" y="82.1" class="st12" width="25.8" height="1.5" />
                                                </g>
                                                <g>
                                                    <rect x="142" y="117.9" class="st12" width="26.2" height="1.5" />
                                                </g>
                                            </g>
                                        </g>
                                    </g>
                                    <g id="Back">
                                    </g>
                                </svg>
                            </div>
                            <div class="back">
                                <svg version="1.1" id="cardback" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                    x="0px" y="0px" viewBox="0 0 750 471" style="enable-background:new 0 0 750 471;" xml:space="preserve">
                                    <g id="Front">
                                        <line class="st0" x1="35.3" y1="10.4" x2="36.7" y2="11" />
                                    </g>
                                    <g id="Back">
                                        <g id="Page-1_2_">
                                            <g id="amex_2_">
                                                <path id="Rectangle-1_2_" class="darkcolor lightbluedark" d="M40,0h670c22.1,0,40,17.9,40,40v391c0,22.1-17.9,40-40,40H40c-22.1,0-40-17.9-40-40V40
                                        C0,17.9,17.9,0,40,0z" />
                                            </g>
                                        </g>
                                        <rect y="61.6" class="st2" width="750" height="78" />
                                        <g>
                                            <path class="st3" d="M701.1,249.1H48.9c-3.3,0-6-2.7-6-6v-52.5c0-3.3,2.7-6,6-6h652.1c3.3,0,6,2.7,6,6v52.5
                                    C707.1,246.4,704.4,249.1,701.1,249.1z" />
                                            <rect x="42.9" y="198.6" class="st4" width="664.1" height="10.5" />
                                            <rect x="42.9" y="224.5" class="st4" width="664.1" height="10.5" />
                                            <path class="st5" d="M701.1,184.6H618h-8h-10v64.5h10h8h83.1c3.3,0,6-2.7,6-6v-52.5C707.1,187.3,704.4,184.6,701.1,184.6z" />
                                        </g>
                                        <text transform="matrix(1 0 0 1 621.999 227.2734)" id="svgsecurity" class="st6 st7">123</text>
                                        <g class="st8">
                                            <text transform="matrix(1 0 0 1 518.083 280.0879)" class="st9 st6 st10">security code</text>
                                        </g>
                                        <rect x="58.1" y="378.6" class="st11" width="375.5" height="13.5" />
                                        <rect x="58.1" y="405.6" class="st11" width="421.7" height="13.5" />
                                        <text transform="matrix(1 0 0 1 59.5073 228.6099)" id="svgnameback" class="st12 st13">NO NAME</text>
                                    </g>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </div>
    <style>
        .modal-header, .modal-body, .modal-footer {
            padding:9px 15px;
            border-bottom: 1px solid #eee;
            background-color: #121825;
            color: #8eff66;
            -webkit-border-top-left-radius: 5px;
            -webkit-border-top-right-radius: 5px;
            -moz-border-radius-topleft: 5px;
            -moz-border-radius-topright: 5px;
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
        }
    </style>
    <!-- Modal -->
    <div class="modal__history modal fade" id="modal__history" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Lịch Sử Nạp E-coin</h5>
            <a type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </a>
            </div>
            <div class="modal-body">
                <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">Mã Thẻ</th>
                        <th scope="col">Số Tiền Nạp</th>
                        <th scope="col">Ngày nạp</th>
                        <th scope="col">Giờ nạp</th>
                      </tr>
                    </thead>
                    <tbody id="body__history">
                    </tbody>
                  </table>
            </div>
            <div class="modal-footer" style="border: none;">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
        </div>
  </div>

    <form method="POST">
        <div class="modal fade" id="imageModalContainer" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-md modal-dialog-centered">
                <div class="modal-content modal-content1 modal-content1">
                <div class="modal-header">
                    <h5 class="modal-title" id="imageModal">Cập nhật ảnh đại diện</h5>
                    <div class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </div>
                </div>
                <div class="modal-body modal-body1" style="border-bottom: none;">
                    <div id='crop-image-container'>
                    </div>
                </div>
                <div class="modal-footer" style="border: none;">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="fal fa-times"></i> Close</button>
                    <button type="button" class="btn btn-primary save-modal"><i class="far fa-file-export"></i> Save Change</button>
                </div>
                </div>
            </div>
        </div>
    </form>
    <!-- Modal -->
    <form method="POST">
        <div class="modal__to-up-card modal fade" id="modal__to-up-card" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog__toupcard modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content" >
                <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Nạp E-coin</h5>
                <a type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </a>
                </div>
                <div class="modal-body to-up-card__content" style="border-bottom: none;">
                    <div class="md__denominations">
                        <div class="card__denomi active" value="50000">
                            <img src="http://localhost:3000/image/50k.jpg" alt="">
                        </div>
                        <div class="card__denomi" value="100000">
                            <img src="http://localhost:3000/image/100k.jpg" alt="">
                        </div>
                        <div class="card__denomi" value="200000">
                            <img src="http://localhost:3000/image/200k.jpg" alt="" >
                        </div>
                        <div class="card__denomi" value="500000">
                            <img src="http://localhost:3000/image/500k.jpg" alt="">
                        </div>
                        <div class="card__denomi" value="1000000">
                            <img src="http://localhost:3000/image/1000k.jpg" alt="">
                        </div>
                        <div class="card__denomi" value="2000000">
                            <img src="http://localhost:3000/image/2000k.jpg" alt="">
                        </div>
                        <div class="card__denomi" value="5000000">
                            <img src="http://localhost:3000/image/5000k.jpg" alt="">
                        </div>
                    </div>
                    <hr style="background: #949fb5;">
                    <div class="form__info">
                        <h3 style="display: flex; justify-content: center;">Thông tin thẻ E-coin</h3>
                        <div class="form-group">
                            <label for="seri">Seri Number</label>
                            <input type="text" class="form-control" id="seri"  placeholder="Số Seri">
                          </div>
                          <div class="form-group">
                            <label for="idcard">ID Card</label>
                            <input type="text" class="form-control" id="idcard" placeholder="Mã Thẻ">
                          </div>
                    </div>
                </div>
                <div class="modal-footer" style="border: none;">
                <button type="button" class="btn-pay btn btn-primary">Thanh Toán</button>
                </div>
            </div>
            </div>
        </div>
    </form>
  
</div>
<script src="../js/croppie.js"></script>
<script src="../js/toastmesage.js"></script>
<script >
        $('#history__btn').click(function() {
            fetch('http://localhost:3000/prof/api/to-up-card/<%- currentUser?.code %>')
             .then(function(response) {
                 return response.json();
             })
             .then(function(data) {
                 if(data.length > 0)
                 {
                    var htmls = data.map(function(dt) {
                    return ` <tr>
                        <td>${dt.idUser}</td>
                        <td>${dt.Denominations.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")}</td>
                        <td>${dt.dayTrading.substring(0,10)}</td>
                        <td>${dt.tradingHours}</td>
                      </tr>`;
                    })
                    document.querySelector('#body__history').innerHTML = htmls.join('');
                 }
                 else {
                    var htmls = `<tr>
                            <td colspan="4" class="text-center" style="font-size: 16px;
                            text-transform: uppercase;">Không có giao dịch nào thực hiện</td>
                        </tr>`;
                    document.querySelector('#body__history').innerHTML = htmls;
                 }

               
             })
             .catch(function(err) {
                 console.log(err);
             })
        })

        $('.btn-pay').click(function () {
            var seriNum = $('#seri').val();
            var idCard = $('#idcard').val();
            var idUser = `<%- currentUser?.code %>`;
            var denominations = $('.md__denominations').find('.card__denomi.active').attr('value'); 
            var nowDate = new Date();
            if(seriNum && idCard)
            {
                var data = {
                    seriNum: seriNum,
                    idCard: idCard,
                    denominations: denominations,
                    dayTrading: `${nowDate.getFullYear()}-${nowDate.getMonth() + 1}-${nowDate.getDate()}`,
                    tradingHours: `${nowDate.getHours()}:${nowDate.getMinutes()}`,
                };

                var options = {
                    method: 'POST', // or 'PUT'
                    headers: {
                    'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                }

                fetch('http://localhost:3000/prof/to-up-card/<%- currentUser.code %>', options)
                    .then(function(response) {
                        return response.json();
                    }) 
                    .then(function(result) {
                        if(result === true)
                        {
                            $('#modal__to-up-card').modal('hide');
                            toast({
                                title: 'Successfully!',
                                message: `Thanh toán thành công! số dư của bạn được cộng thêm <span style="font-size: 14px; font-weight: bold; color: #8eff66;">+${denominations}</span> E-coin <3`,
                                type: 'success',
                                duration: 4000
                            });
                            callApiProf('<%= userId %>');
                        }
                    })
                    .then(function(err){
                        console.log(err);
                    });
            }
            else {
                toast({
                    title: 'Warning!',
                    message: 'Bạn cần nhập đầy đủ thông tin!',
                    type: 'warning',
                    duration: 4000
                });
            }
        });
    
        $('.card__denomi').click(function () {
            $(this).addClass('active').siblings().removeClass('active');
        });

        $(document).on('click', '#upload-aphoto', function () {
            document.getElementById('selectedFile').click();
        });

        $('#selectedFile').change(function () {
            if (this.files[0] == undefined)
            return;
            $('#imageModalContainer').modal('show');
            let reader = new FileReader();
            reader.addEventListener("load", function () {
            window.src = reader.result;
            $('#selectedFile').val('');
            }, false);
            if (this.files[0]) {
                reader.readAsDataURL(this.files[0]);
            }
        });

        let croppi;
        $('#imageModalContainer').on('shown.bs.modal', function () {
        let width = document.getElementById('crop-image-container').offsetWidth - 20;
        $('#crop-image-container').height((width - 80) + 'px');
            croppi = $('#crop-image-container').croppie({
            viewport: {
                width: width,
                height: width 
            },
            });
        $('.modal-body1').height(document.getElementById('crop-image-container').offsetHeight + 50 + 'px');
        croppi.croppie('bind', {
            url: window.src,
        }).then(function () {
            croppi.croppie('setZoom', 0);
        });
        });
        $('#imageModalContainer').on('hidden.bs.modal', function () {
            croppi.croppie('destroy');
        });

        $(document).on('click', '.save-modal', function (ev) {
            croppi.croppie('result', {
                type: 'base64',
                format: 'jpeg',
                size: 'original'
            }).then(function (resp) {
                $('#confirm-img').attr('src', resp);
                fetch(`http://localhost:3000/prof/photo/<%- currentUser.code %>`, {
                            method: 'POST', // or 'PUT'
                            headers: {
                            'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({ data: resp}),
                        })
                    .then(function(response) {
                        response.json();
                });
                $('.modal').modal('hide');
            });
        });

</script>
<script src="../js/api/profile.js"></script>
<script>
      function clickOpenInput() { 
            var reg = '/\bmystyle\b/g';
            var elements = document.getElementsByClassName("form-group");
            var btn_element = document.getElementsByClassName('form-submit');

            for ( var i = 0 ;i < elements.length; i++ ) {
                if(elements[i].classList.contains('disable'))
                {
                    elements[i].classList.remove('disable')
                }
            }

            for(var i = 0; i < btn_element.length; i++){
                if(btn_element[i].classList.contains('disable'))
                {
                    btn_element[i].classList.remove('disable')
                }
                else
                {
                    btn_element[i].classList.add('disable')
                }
            }
        }

    window.onload = (e) => {
        callApiProf('<%= userId %>');
    }

    $('.creditcard').click(function() {
        $(this).toggleClass('flipped');
    })
</script>